(function(){var rsplit=function(string,regex){var result=regex.exec(string),retArr=new Array(),first_idx,last_idx,first_bit;while(result!=null){first_idx=result.index;last_idx=regex.lastIndex;if((first_idx)!=0){first_bit=string.substring(0,first_idx);retArr.push(string.substring(0,first_idx));string=string.slice(first_idx)}retArr.push(result[0]);string=string.slice(result[0].length);result=regex.exec(string)}if(!string==""){retArr.push(string)}return retArr},chop=function(string){return string.substr(0,string.length-1)},extend=function(d,s){for(var n in s){if(s.hasOwnProperty(n)){d[n]=s[n]}}};EJS=function(options){options=typeof options=="string"?{view:options}:options;this.set_options(options);if(options.precompiled){this.template={};this.template.process=options.precompiled;EJS.update(this.name,this);return}if(options.element){if(typeof options.element=="string"){var name=options.element;options.element=document.getElementById(options.element);if(options.element==null){throw name+"does not exist!"}}if(options.element.value){this.text=options.element.value}else{this.text=options.element.innerHTML}this.name=options.element.id;this.type="["}else{if(options.url){options.url=EJS.endExt(options.url,this.extMatch);this.name=this.name?this.name:options.url;var url=options.url;var template=EJS.get(this.name,this.cache);if(template){return template}if(template==EJS.INVALID_PATH){return null}try{this.text=EJS.request(url+(this.cache?"":"?"+Math.random()))}catch(e){}if(this.text==null){throw ({type:"EJS",message:"There is no template at "+url})}}}var template=new EJS.Compiler(this.text,this.type);template.compile(options,this.name);EJS.update(this.name,this);this.template=template};EJS.prototype={render:function(object,extra_helpers){object=object||{};this._extra_helpers=extra_helpers;var v=new EJS.Helpers(object,extra_helpers||{});return this.template.process.call(object,object,v)},update:function(element,options){if(typeof element=="string"){element=document.getElementById(element)}if(options==null){_template=this;return function(object){EJS.prototype.update.call(_template,element,object)}}if(typeof options=="string"){params={};params.url=options;_template=this;params.onComplete=function(request){var object=eval(request.responseText);EJS.prototype.update.call(_template,element,object)};EJS.ajax_request(params)}else{element.innerHTML=this.render(options)}},out:function(){return this.template.out},set_options:function(options){this.type=options.type||EJS.type;this.cache=options.cache!=null?options.cache:EJS.cache;this.text=options.text||null;this.name=options.name||null;this.ext=options.ext||EJS.ext;this.extMatch=new RegExp(this.ext.replace(/\./,"."))}};EJS.endExt=function(path,match){if(!path){return null}match.lastIndex=0;return path+(match.test(path)?"":this.ext)};EJS.Scanner=function(source,left,right){extend(this,{left_delimiter:left+"%",right_delimiter:"%"+right,double_left:left+"%%",double_right:"%%"+right,left_equal:left+"%=",left_comment:left+"%#"});this.SplitRegexp=left=="["?/(\[%%)|(%%\])|(\[%=)|(\[%#)|(\[%)|(%\]\n)|(%\])|(\n)/:new RegExp("("+this.double_left+")|(%%"+this.double_right+")|("+this.left_equal+")|("+this.left_comment+")|("+this.left_delimiter+")|("+this.right_delimiter+"\n)|("+this.right_delimiter+")|(\n)");this.source=source;this.stag=null;this.lines=0};EJS.Scanner.to_text=function(input){if(input==null||input===undefined){return""}if(input instanceof Date){return input.toDateString()}if(input.toString){return input.toString()}return""};EJS.Scanner.prototype={scan:function(block){scanline=this.scanline;regex=this.SplitRegexp;if(!this.source==""){var source_split=rsplit(this.source,/\n/);for(var i=0;i<source_split.length;i++){var item=source_split[i];this.scanline(item,regex,block)}}},scanline:function(line,regex,block){this.lines++;var line_split=rsplit(line,regex);for(var i=0;i<line_split.length;i++){var token=line_split[i];if(token!=null){try{block(token,this)}catch(e){throw {type:"EJS.Scanner",line:this.lines}}}}}};EJS.Buffer=function(pre_cmd,post_cmd){this.line=new Array();this.script="";this.pre_cmd=pre_cmd;this.post_cmd=post_cmd;for(var i=0;i<this.pre_cmd.length;i++){this.push(pre_cmd[i])}};EJS.Buffer.prototype={push:function(cmd){this.line.push(cmd)},cr:function(){this.script=this.script+this.line.join("; ");this.line=new Array();this.script=this.script+"\n"},close:function(){if(this.line.length>0){for(var i=0;i<this.post_cmd.length;i++){this.push(pre_cmd[i])}this.script=this.script+this.line.join("; ");line=null}}};EJS.Compiler=function(source,left){this.pre_cmd=["var ___ViewO = [];"];this.post_cmd=new Array();this.source=" ";if(source!=null){if(typeof source=="string"){source=source.replace(/\r\n/g,"\n");source=source.replace(/\r/g,"\n");this.source=source}else{if(source.innerHTML){this.source=source.innerHTML}}if(typeof this.source!="string"){this.source=""}}left=left||"<";var right=">";switch(left){case"[":right="]";break;case"<":break;default:throw left+" is not a supported deliminator";break}this.scanner=new EJS.Scanner(this.source,left,right);this.out=""};EJS.Compiler.prototype={compile:function(options,name){options=options||{};this.out="";var put_cmd="___ViewO.push(";var insert_cmd=put_cmd;var buff=new EJS.Buffer(this.pre_cmd,this.post_cmd);var content="";var clean=function(content){content=content.replace(/\\/g,"\\\\");content=content.replace(/\n/g,"\\n");content=content.replace(/"/g,'\\"');return content};this.scanner.scan(function(token,scanner){if(scanner.stag==null){switch(token){case"\n":content=content+"\n";buff.push(put_cmd+'"'+clean(content)+'");');buff.cr();content="";break;case scanner.left_delimiter:case scanner.left_equal:case scanner.left_comment:scanner.stag=token;if(content.length>0){buff.push(put_cmd+'"'+clean(content)+'")')}content="";break;case scanner.double_left:content=content+scanner.left_delimiter;break;default:content=content+token;break}}else{switch(token){case scanner.right_delimiter:switch(scanner.stag){case scanner.left_delimiter:if(content[content.length-1]=="\n"){content=chop(content);buff.push(content);buff.cr()}else{buff.push(content)}break;case scanner.left_equal:buff.push(insert_cmd+"(EJS.Scanner.to_text("+content+")))");break}scanner.stag=null;content="";break;case scanner.double_right:content=content+scanner.right_delimiter;break;default:content=content+token;break}}});if(content.length>0){buff.push(put_cmd+'"'+clean(content)+'")')}buff.close();this.out=buff.script+";";var to_be_evaled="/*"+name+"*/this.process = function(_CONTEXT,_VIEW) { try { with(_VIEW) { with (_CONTEXT) {"+this.out+" return ___ViewO.join('');}}}catch(e){e.lineNumber=null;throw e;}};";try{eval(to_be_evaled)}catch(e){if(typeof JSLINT!="undefined"){JSLINT(this.out);for(var i=0;i<JSLINT.errors.length;i++){var error=JSLINT.errors[i];if(error.reason!="Unnecessary semicolon."){error.line++;var e=new Error();e.lineNumber=error.line;e.message=error.reason;if(options.view){e.fileName=options.view}throw e}}}else{throw e}}}};EJS.config=function(options){EJS.cache=options.cache!=null?options.cache:EJS.cache;EJS.type=options.type!=null?options.type:EJS.type;EJS.ext=options.ext!=null?options.ext:EJS.ext;var templates_directory=EJS.templates_directory||{};EJS.templates_directory=templates_directory;EJS.get=function(path,cache){if(cache==false){return null}if(templates_directory[path]){return templates_directory[path]}return null};EJS.update=function(path,template){if(path==null){return}templates_directory[path]=template};EJS.INVALID_PATH=-1};EJS.config({cache:true,type:"<",ext:".ejs"});EJS.Helpers=function(data,extras){this._data=data;this._extras=extras;extend(this,extras)};EJS.Helpers.prototype={view:function(options,data,helpers){if(!helpers){helpers=this._extras}if(!data){data=this._data}return new EJS(options).render(data,helpers)},to_text:function(input,null_text){if(input==null||input===undefined){return null_text||""}if(input instanceof Date){return input.toDateString()}if(input.toString){return input.toString().replace(/\n/g,"<br />").replace(/''/g,"'")}return""}};EJS.newRequest=function(){var factories=[function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(var i=0;i<factories.length;i++){try{var request=factories[i]();if(request!=null){return request}}catch(e){continue}}};EJS.request=function(path){var request=new EJS.newRequest();request.open("GET",path,false);try{request.send(null)}catch(e){return null}if(request.status==404||request.status==2||(request.status==0&&request.responseText=="")){return null}return request.responseText};EJS.ajax_request=function(params){params.method=(params.method?params.method:"GET");var request=new EJS.newRequest();request.onreadystatechange=function(){if(request.readyState==4){if(request.status==200){params.onComplete(request)}else{params.onComplete(request)}}};request.open(params.method,params.url);request.send(null)}})();(function(a){a.fn.validationEngineLanguage=function(){};a.validationEngineLanguage={newLang:function(){a.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* This field is required",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",alertTextDateRange:"* Both date range fields are required"},dateRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters allowed"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Fields do not match"},creditCard:{regex:"none",alertText:"* Invalid credit card number"},phone:{regex:/^([\+][0-9]{1,3}[\ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9\ \.\-\/]{3,20})((x|ext|extension)[\ ]?[0-9]{1,4})?$/,alertText:"* Invalid phone number"},email:{regex:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,alertText:"* Invalid email address"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?(([0-9]+)([\.,]([0-9]+))?|([\.,]([0-9]+))?)$/,alertText:"* Invalid floating decimal number"},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* Invalid date, must be in YYYY-MM-DD format"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* This username is available",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Validating, please wait"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* This name is already taken",alertTextLoad:"* Validating, please wait"},validate2fields:{alertText:"* Please input HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid Date"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid Date or Date Format",alertText2:"Expected Format: ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"}}}};a.validationEngineLanguage.newLang()})(jQuery);(function(b){var a={init:function(c){var d=this;if(!d.data("jqv")||d.data("jqv")==null){c=a._saveOptions(d,c);b(".formError").live("click",function(){b(this).fadeOut(150,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()})})}return this},attach:function(e){if(!b(this).is("form")){alert("Sorry, jqv.attach() only applies to a form");return this}var d=this;var c;if(e){c=a._saveOptions(d,e)}else{c=d.data("jqv")}c.validateAttribute=(d.find("[data-validation-engine*=validate]").length)?"data-validation-engine":"class";if(c.binded){d.find("["+c.validateAttribute+"*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(c.validationEventTrigger,a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][type=checkbox],["+c.validateAttribute+"*=validate][type=radio]").bind("click",a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][class*=datepicker]").bind(c.validationEventTrigger,{delay:300},a._onFieldEvent)}if(c.autoPositionUpdate){b(window).bind("resize",{noAnimation:true,formElem:d},a.updatePromptsPosition)}d.bind("submit",a._onSubmitEvent);return this},detach:function(){if(!b(this).is("form")){alert("Sorry, jqv.detach() only applies to a form");return this}var d=this;var c=d.data("jqv");d.find("["+c.validateAttribute+"*=validate]").not("[type=checkbox]").unbind(c.validationEventTrigger,a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",a._onFieldEvent);d.unbind("submit",a.onAjaxFormComplete);d.find("["+c.validateAttribute+"*=validate]").not("[type=checkbox]").die(c.validationEventTrigger,a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][type=checkbox]").die("click",a._onFieldEvent);d.die("submit",a.onAjaxFormComplete);d.removeData("jqv");if(c.autoPositionUpdate){b(window).unbind("resize",a.updatePromptsPosition)}return this},validate:function(){if(b(this).is("form")){return a._validateFields(this)}else{var e=b(this).closest("form");var c=e.data("jqv");var d=a._validateField(b(this),c);if(c.onSuccess&&c.InvalidFields.length==0){c.onSuccess()}else{if(c.onFailure&&c.InvalidFields.length>0){c.onFailure()}}return d}},updatePromptsPosition:function(f){if(f&&this==window){var e=f.data.formElem;var c=f.data.noAnimation}else{var e=b(this.closest("form"))}var d=e.data("jqv");e.find("["+d.validateAttribute+"*=validate]").not(":hidden").not(":disabled").each(function(){var i=b(this);var g=a._getPrompt(i);var h=b(g).find(".formErrorContent").html();if(g){a._updatePrompt(i,b(g),h,undefined,false,d,c)}});return this},showPrompt:function(d,f,h,e){var g=this.closest("form");var c=g.data("jqv");if(!c){c=a._saveOptions(this,c)}if(h){c.promptPosition=h}c.showArrow=e==true;a._showPrompt(this,d,f,false,c);return this},hide:function(){var e=b(this).closest("form");if(e.length==0){return this}var d=e.data("jqv");var c;if(b(this).is("form")){c="parentForm"+a._getClassName(b(this).attr("id"))}else{c=a._getClassName(b(this).attr("id"))+"formError"}b("."+c).fadeTo(d.fadeDuration,0.3,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()});return this},hideAll:function(){var d=this;var c=d.data("jqv");var e=c?c.fadeDuration:0.3;b(".formError").fadeTo(e,0.3,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()});return this},_onFieldEvent:function(e){var f=b(this);var d=f.closest("form");var c=d.data("jqv");window.setTimeout(function(){a._validateField(f,c);if(c.InvalidFields.length==0&&c.onSuccess){c.onSuccess()}else{if(c.InvalidFields.length>0&&c.onFailure){c.onFailure()}}},(e.data)?e.data.delay:0)},_onSubmitEvent:function(){var e=b(this);var c=e.data("jqv");var d=a._validateFields(e,c.ajaxFormValidation);if(d&&c.ajaxFormValidation){a._validateFormWithAjax(e,c);return false}if(c.onValidationComplete){c.onValidationComplete(e,d);return false}return d},_checkAjaxStatus:function(d){var c=true;b.each(d.ajaxValidCache,function(e,f){if(!f){c=false;return false}});return c},_validateFields:function(e,m){var n=e.data("jqv");var f=false;e.trigger("jqv.form.validating");var o=null;e.find("["+n.validateAttribute+"*=validate]").not(":hidden").not(":disabled").each(function(){var q=b(this);var p=[];if(b.inArray(q.attr("name"),p)<0){f|=a._validateField(q,n,m);if(f&&o==null){o=q}if(n.doNotShowAllErrosOnSubmit){return false}p.push(q.attr("name"))}});e.trigger("jqv.form.result",[f]);if(f){if(n.scroll){var l=o.offset().top;var h=o.offset().left;var j=n.promptPosition;if(typeof(j)=="string"&&j.indexOf(":")!=-1){j=j.substring(0,j.indexOf(":"))}if(j!="bottomRight"&&j!="bottomLeft"){var i=a._getPrompt(o);l=i.offset().top}if(n.isOverflown){var c=b(n.overflownDIV);if(!c.length){return false}var d=c.scrollTop();var g=-parseInt(c.offset().top);l+=d+g-5;var k=b(n.overflownDIV+":not(:animated)");k.animate({scrollTop:l},1100,function(){if(n.focusFirstField){o.focus()}})}else{b("html:not(:animated),body:not(:animated)").animate({scrollTop:l,scrollLeft:h},1100,function(){if(n.focusFirstField){o.focus()}})}}else{if(n.focusFirstField){o.focus()}}return false}return true},_validateFormWithAjax:function(e,d){var f=e.serialize();var c=(d.ajaxFormValidationURL)?d.ajaxFormValidationURL:e.attr("action");b.ajax({type:d.ajaxFormValidationMethod,url:c,cache:false,dataType:"json",data:f,form:e,methods:a,options:d,beforeSend:function(){return d.onBeforeAjaxFormValidation(e,d)},error:function(g,h){a._ajaxError(g,h)},success:function(l){if(l!==true){var j=false;for(var k=0;k<l.length;k++){var m=l[k];var o=m[0];var h=b(b("#"+o)[0]);if(h.length==1){var n=m[2];if(m[1]==true){if(n==""||!n){a._closePrompt(h)}else{if(d.allrules[n]){var g=d.allrules[n].alertTextOk;if(g){n=g}}a._showPrompt(h,n,"pass",false,d,true)}}else{j|=true;if(d.allrules[n]){var g=d.allrules[n].alertText;if(g){n=g}}a._showPrompt(h,n,"",false,d,true)}}}d.onAjaxFormComplete(!j,e,l,d)}else{d.onAjaxFormComplete(true,e,"",d)}}})},_validateField:function(c,k,p){if(!c.attr("id")){c.attr("id","form-validation-field-"+b.validationEngine.fieldIdCounter);++b.validationEngine.fieldIdCounter}var r=c.attr(k.validateAttribute);var v=/validate\[(.*)\]/.exec(r);if(!v){return false}var s=v[1];var o=s.split(/\[|,|\]/);var l=false;var h=c.attr("name");var g="";var q=false;k.isError=false;k.showArrow=true;var d=b(c.closest("form"));for(var u=0;u<o.length;u++){o[u]=o[u].replace(" ","");var e=undefined;switch(o[u]){case"required":q=true;e=a._required(c,o,u,k);break;case"custom":e=a._customRegex(c,o,u,k);break;case"groupRequired":var t="["+k.validateAttribute+"*="+o[u+1]+"]";var f=d.find(t).eq(0);if(f[0]!=c[0]){a._validateField(f,k,p);k.showArrow=true;continue}e=a._groupRequired(c,o,u,k);if(e){q=true}k.showArrow=false;break;case"ajax":if(!p){a._ajax(c,o,u,k);l=true}break;case"minSize":e=a._minSize(c,o,u,k);break;case"maxSize":e=a._maxSize(c,o,u,k);break;case"min":e=a._min(c,o,u,k);break;case"max":e=a._max(c,o,u,k);break;case"past":e=a._past(c,o,u,k);break;case"future":e=a._future(c,o,u,k);break;case"dateRange":var t="["+k.validateAttribute+"*="+o[u+1]+"]";var f=d.find(t).eq(0);var j=d.find(t).eq(1);if(f[0].value||j[0].value){e=a._dateRange(f,j,o,u,k)}if(e){q=true}k.showArrow=false;break;case"dateTimeRange":var t="["+k.validateAttribute+"*="+o[u+1]+"]";var f=d.find(t).eq(0);var j=d.find(t).eq(1);if(f[0].value||j[0].value){e=a._dateTimeRange(f,j,o,u,k)}if(e){q=true}k.showArrow=false;break;case"maxCheckbox":e=a._maxCheckbox(d,c,o,u,k);c=b(d.find("input[name='"+h+"']"));break;case"minCheckbox":e=a._minCheckbox(d,c,o,u,k);c=b(d.find("input[name='"+h+"']"));break;case"equals":e=a._equals(c,o,u,k);break;case"funcCall":e=a._funcCall(c,o,u,k);break;case"creditCard":e=a._creditCard(c,o,u,k);break;default:}if(e!==undefined){g+=e+"<br/>";k.isError=true}}if(!q&&c.val()==""){k.isError=false}var m=c.prop("type");if((m=="radio"||m=="checkbox")&&d.find("input[name='"+h+"']").size()>1){c=b(d.find("input[name='"+h+"'][type!=hidden]:first"));k.showArrow=false}if(k.isError){a._showPrompt(c,g,"",false,k)}else{if(!l){a._closePrompt(c)}}if(!l){c.trigger("jqv.field.result",[c,k.isError,g])}var n=b.inArray(c[0],k.InvalidFields);if(n==-1){if(k.isError){k.InvalidFields.push(c[0])}}else{if(!k.isError){k.InvalidFields.splice(n,1)}}return k.isError},_required:function(g,h,e,d){switch(g.prop("type")){case"text":case"password":case"textarea":case"file":default:if(!b.trim(g.val())||g.val()==g.attr("data-validation-placeholder")){return d.allrules[h[e]].alertText}break;case"radio":case"checkbox":var f=g.closest("form");var c=g.attr("name");if(f.find("input[name='"+c+"']:checked").size()==0){if(f.find("input[name='"+c+"']").size()==1){return d.allrules[h[e]].alertTextCheckboxe}else{return d.allrules[h[e]].alertTextCheckboxMultiple}}break;case"select-one":if(!g.val()){return d.allrules[h[e]].alertText}break;case"select-multiple":if(!g.find("option:selected").val()){return d.allrules[h[e]].alertText}}},_groupRequired:function(f,h,d,c){var g="["+c.validateAttribute+"*="+h[d+1]+"]";var e=false;f.closest("form").find(g).each(function(){if(!a._required(b(this),h,d,c)){e=true;return false}});if(!e){return c.allrules[h[d]].alertText}},_customRegex:function(j,k,f,d){var c=k[f+1];var h=d.allrules[c];if(!h){alert("jqv:custom rule not found "+c);return}var e=h.regex;if(!e){alert("jqv:custom regex not found "+c);return}var g=new RegExp(e);if(!g.test(j.val())){return d.allrules[c].alertText}},_funcCall:function(j,k,d,c){var h=k[d+1];var f;if(h.indexOf(".")>-1){var g=h.split(".");var e=window;while(g.length){e=e[g.shift()]}f=e}else{f=window[h]||c.customFunctions[h]}if(typeof(f)=="function"){return f(j,k,d,c)}},_equals:function(f,g,e,d){var c=g[e+1];if(f.val()!=b("#"+c).val()){return d.allrules.equals.alertText}},_maxSize:function(h,j,f,e){var d=j[f+1];var c=h.val().length;if(c>d){var g=e.allrules.maxSize;return g.alertText+d+g.alertText2}},_minSize:function(h,j,f,d){var e=j[f+1];var c=h.val().length;if(c<e){var g=d.allrules.minSize;return g.alertText+e+g.alertText2}},_min:function(h,j,f,d){var e=parseFloat(j[f+1]);var c=parseFloat(h.val());if(c<e){var g=d.allrules.min;if(g.alertText2){return g.alertText+e+g.alertText2}return g.alertText+e}},_max:function(h,j,f,e){var d=parseFloat(j[f+1]);var c=parseFloat(h.val());if(c>d){var g=e.allrules.max;if(g.alertText2){return g.alertText+d+g.alertText2}return g.alertText+d}},_past:function(j,k,e,c){var h=k[e+1];var d=(h.toLowerCase()=="now")?new Date():a._parseDate(h);var f=a._parseDate(j.val());if(f>d){var g=c.allrules.past;if(g.alertText2){return g.alertText+a._dateToString(d)+g.alertText2}return g.alertText+a._dateToString(d)}},_future:function(j,k,e,c){var h=k[e+1];var d=(h.toLowerCase()=="now")?new Date():a._parseDate(h);var f=a._parseDate(j.val());if(f<d){var g=c.allrules.future;if(g.alertText2){return g.alertText+a._dateToString(d)+g.alertText2}return g.alertText+a._dateToString(d)}},_isDate:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return c.test(d)},_isDateTime:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return c.test(d)},_dateCompare:function(d,c){return(new Date(d.toString())<new Date(c.toString()))},_dateRange:function(g,d,f,e,c){if((!g[0].value&&d[0].value)||(g[0].value&&!d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}if(!a._isDate(g[0].value)||!a._isDate(d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}if(!a._dateCompare(g[0].value,d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}},_dateTimeRange:function(g,d,f,e,c){if((!g[0].value&&d[0].value)||(g[0].value&&!d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}if(!a._isDateTime(g[0].value)||!a._isDateTime(d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}if(!a._dateCompare(g[0].value,d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}},_maxCheckbox:function(h,j,k,g,f){var d=k[g+1];var e=j.attr("name");var c=h.find("input[name='"+e+"']:checked").size();if(c>d){f.showArrow=false;if(f.allrules.maxCheckbox.alertText2){return f.allrules.maxCheckbox.alertText+" "+d+" "+f.allrules.maxCheckbox.alertText2}return f.allrules.maxCheckbox.alertText}},_minCheckbox:function(h,j,k,g,f){var d=k[g+1];var e=j.attr("name");var c=h.find("input[name='"+e+"']:checked").size();if(c<d){f.showArrow=false;return f.allrules.minCheckbox.alertText+" "+d+" "+f.allrules.minCheckbox.alertText2}},_creditCard:function(k,l,f,n){var d=false,m=k.val().replace(/ +/g,"").replace(/-+/g,"");var c=m.length;if(c>=14&&c<=16&&parseInt(m)>0){var g=0,f=c-1,j=1,h,e=new String();do{h=parseInt(m.charAt(f));e+=(j++%2==0)?h*2:h}while(--f>=0);for(f=0;f<e.length;f++){g+=parseInt(e.charAt(f))}d=g%10==0}if(!d){return n.allrules.creditCard.alertText}},_ajax:function(m,o,h,p){var n=o[h+1];var l=p.allrules[n];var e=l.extraData;var j=l.extraDataDynamic;if(!e){e=""}if(j){var g=[];var k=String(j).split(",");for(var h=0;h<k.length;h++){var c=k[h];if(b(c).length){var d=m.closest("form").find(c).val();var f=c.replace("#","")+"="+escape(d);g.push(f)}}j=g.join("&")}else{j=""}if(!p.isError){b.ajax({type:p.ajaxFormValidationMethod,url:l.url,cache:false,dataType:"json",data:"fieldId="+m.attr("id")+"&fieldValue="+m.val()+"&extraData="+e+"&"+j,field:m,rule:l,methods:a,options:p,beforeSend:function(){var i=l.alertTextLoad;if(i){a._showPrompt(m,i,"load",true,p)}},error:function(i,q){a._ajaxError(i,q)},success:function(s){var u=s[0];var r=b(b("input[id='"+u+"']")[0]);if(r.length==1){var q=s[1];var t=s[2];if(!q){p.ajaxValidCache[u]=false;p.isError=true;if(t){if(p.allrules[t]){var i=p.allrules[t].alertText;if(i){t=i}}}else{t=l.alertText}a._showPrompt(r,t,"",true,p)}else{if(p.ajaxValidCache[u]!==undefined){p.ajaxValidCache[u]=true}if(t){if(p.allrules[t]){var i=p.allrules[t].alertTextOk;if(i){t=i}}}else{t=l.alertTextOk}if(t){a._showPrompt(r,t,"pass",true,p)}else{a._closePrompt(r)}}}r.trigger("jqv.field.result",[r,p.isError,t])}})}},_ajaxError:function(c,d){if(c.status==0&&d==null){alert("The page is not served from a server! ajax call failed")}else{if(typeof console!="undefined"){console.log("Ajax error: "+c.status+" "+d)}}},_dateToString:function(c){return c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()},_parseDate:function(e){var c=e.split("-");if(c==e){c=e.split("/")}return new Date(c[0],(c[1]-1),c[2])},_showPrompt:function(i,g,h,f,e,d){var c=a._getPrompt(i);if(d){c=false}if(c){a._updatePrompt(i,c,g,h,f,e)}else{a._buildPrompt(i,g,h,f,e)}},_buildPrompt:function(h,c,f,j,k){var d=b("<div>");d.addClass(a._getClassName(h.attr("id"))+"formError");if(h.is(":input")){d.addClass("parentForm"+a._getClassName(h.parents("form").attr("id")))}d.addClass("formError");switch(f){case"pass":d.addClass("greenPopup");break;case"load":d.addClass("blackPopup");break;default:}if(j){d.addClass("ajaxed")}var l=b("<div>").addClass("formErrorContent").html(c).appendTo(d);if(k.showArrow){var i=b("<div>").addClass("formErrorArrow");var e=h.data("promptPosition")||k.promptPosition;if(typeof(e)=="string"){var g=e.indexOf(":");if(g!=-1){e=e.substring(0,g)}}switch(e){case"bottomLeft":case"bottomRight":d.find(".formErrorContent").before(i);i.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":i.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>');d.append(i);break}}if(h.closest(".ui-dialog").length){d.addClass("formErrorInsideDialog")}d.css({opacity:0,position:"absolute"});h.before(d);var g=a._calculatePosition(h,d,k);d.css({top:g.callerTopPosition,left:g.callerleftPosition,marginTop:g.marginTopSize,opacity:0}).data("callerField",h);if(k.autoHidePrompt){setTimeout(function(){d.animate({opacity:0},function(){d.closest(".formErrorOuter").remove();d.remove()})},k.autoHideDelay)}return d.animate({opacity:0.87})},_updatePrompt:function(i,d,c,g,j,k,e){if(d){if(typeof g!=="undefined"){if(g=="pass"){d.addClass("greenPopup")}else{d.removeClass("greenPopup")}if(g=="load"){d.addClass("blackPopup")}else{d.removeClass("blackPopup")}}if(j){d.addClass("ajaxed")}else{d.removeClass("ajaxed")}d.find(".formErrorContent").html(c);var h=a._calculatePosition(i,d,k);var f={top:h.callerTopPosition,left:h.callerleftPosition,marginTop:h.marginTopSize};if(e){d.css(f)}else{d.animate(f)}}},_closePrompt:function(d){var c=a._getPrompt(d);if(c){c.fadeTo("fast",0,function(){c.parent(".formErrorOuter").remove();c.remove()})}},closePrompt:function(c){return a._closePrompt(c)},_getPrompt:function(e){var f=b(e).closest("form").attr("id");var d=a._getClassName(e.attr("id"))+"formError";var c=b("."+a._escapeExpression(d)+".parentForm"+f)[0];if(c){return b(c)}},_escapeExpression:function(c){return c.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(e){var f=b(document);var c=b("body");var d=(e&&e.hasClass("rtl"))||(e&&(e.attr("dir")||"").toLowerCase()==="rtl")||f.hasClass("rtl")||(f.attr("dir")||"").toLowerCase()==="rtl"||c.hasClass("rtl")||(c.attr("dir")||"").toLowerCase()==="rtl";return Boolean(d)},_calculatePosition:function(m,f,r){var e,n,k;var g=m.width();var c=m.position().left;var p=m.position().top;var d=m.height();var q=f.height();e=n=0;k=-q;var j=m.data("promptPosition")||r.promptPosition;var i="";var h="";var o=0;var l=0;if(typeof(j)=="string"){if(j.indexOf(":")!=-1){i=j.substring(j.indexOf(":")+1);j=j.substring(0,j.indexOf(":"));if(i.indexOf(",")!=-1){h=i.substring(i.indexOf(",")+1);i=i.substring(0,i.indexOf(","));l=parseInt(h);if(isNaN(l)){l=0}}o=parseInt(i);if(isNaN(i)){i=0}}}switch(j){default:case"topRight":n+=c+g-30;e+=p;break;case"topLeft":e+=p;n+=c;break;case"centerRight":e=p+4;k=0;n=c+m.outerWidth(1)+5;break;case"centerLeft":n=c-(f.width()+2);e=p+4;k=0;break;case"bottomLeft":e=p+m.height()+5;k=0;n=c;break;case"bottomRight":n=c+g-30;e=p+m.height()+5;k=0}n+=o;e+=l;return{callerTopPosition:e+"px",callerleftPosition:n+"px",marginTopSize:k+"px"}},_saveOptions:function(e,d){if(b.validationEngineLanguage){var c=b.validationEngineLanguage.allRules}else{b.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page")}b.validationEngine.defaults.allrules=c;var f=b.extend(true,{},b.validationEngine.defaults,d);e.data("jqv",f);return f},_getClassName:function(c){if(c){return c.replace(/:/g,"_").replace(/\./g,"_")}}};b.fn.validationEngine=function(d){var c=b(this);if(!c[0]){return false}if(typeof(d)=="string"&&d.charAt(0)!="_"&&a[d]){if(d!="showPrompt"&&d!="hide"&&d!="hideAll"){a.init.apply(c)}return a[d].apply(c,Array.prototype.slice.call(arguments,1))}else{if(typeof d=="object"||!d){a.init.apply(c,arguments);return a.attach.apply(c)}else{b.error("Method "+d+" does not exist in jQuery.validationEngine")}}};b.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:true,focusFirstField:true,promptPosition:"topRight",bindMethod:"bind",inlineAjax:false,ajaxFormValidation:false,ajaxFormValidationURL:false,ajaxFormValidationMethod:"get",onAjaxFormComplete:b.noop,onBeforeAjaxFormValidation:b.noop,onValidationComplete:false,doNotShowAllErrosOnSubmit:false,binded:true,showArrow:true,isError:false,ajaxValidCache:{},autoPositionUpdate:false,InvalidFields:[],onSuccess:false,onFailure:false,autoHidePrompt:false,autoHideDelay:10000,fadeDuration:0.3}};b(function(){b.validationEngine.defaults.promptPosition=a.isRTL()?"topLeft":"topRight"})})(jQuery);(function(e,c,a,g){var d="jQueryFacebookWall";var f={appId:false,domain:false,installDirectory:"/jQueryFacebookWall/",facebookUser:false,display:"timeline",displayAnimation:true,displayAnimationDelay:200,language:"english",posts:{show:true,feedType:"feed",limit:10,order:5},comments:{limit:5000,showAtStart:2,showMoreNum:50},likes:{show:true,useCoverPhotos:false,limit:5,order:4,minLikes:0},albums:{show:true,limit:2,order:3,filterAlbums:false},photos:{show:true,type:"uploaded",numColumns:4,showAtStart:12,limit:25,order:2},events:{show:true,showPastEvents:false,showTicketLink:false,limit:10,order:1},debug:false};function b(i,h){this.element=i;this.options=e.extend(true,{},f,h);this._defaults=f;this._name=d;this.app={};this.currentUser={};this.init()}b.prototype={init:function(){var j=this;this.$element=e(this.element);if(this.options.appId&&this.options.domain){this._fbInitSDK()}else{console.log("Error: Your appId or domain is not defined in your plugin declaration..")}jQFWlanguage.language=this.options.language;EJS.Helpers.prototype.localize=function(k){return jQFWlanguage.localize(k)};this.$element.addClass("facebook-wall wall facebook-wall-clearfix");if(this.options.display==="timeline"){this.$element.removeClass("wall");this.$element.addClass("timeline")}if(this.options.display==="single-column"){this.$element.removeClass("wall");this.$element.addClass("single-column")}var h=navigator.userAgent.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/);if(h){var i=h[0].split(" ")[0];if(i){if(parseFloat(h[1])<8){this.$element.addClass("fbw-ie7")}else{if(parseFloat(h[1])<9){this.$element.addClass("fbw-ie8")}}}}this.$element.append('<div class="fbw-wall-loading fbw-big-loading " />');this.$element.append(e('<div class="fbw-left-column" />'));if(this.options.display!="single-column"){this.$element.append(e('<div class="fbw-right-column" />'))}this.loadFbData();this.$element.on("click.jQueryFacebookWall",".jfw-lightbox-link",function(n){var m="<div>lightbox content</div>";var l=e(n.currentTarget);if(l.hasClass("album-cover-photo-wrapper")){l.append('<div class="fbw-loading positioned"></div>');var p=l.data("albumData");if(p.photos==g){var o="https://graph.facebook.com/v2.1/"+p.id+"/?access_token="+j.app.appToken+"&fields=photos.fields(name,source,created_time,comments.fields(created_time,from,message,like_count))&callback=?";e.getJSON(o,function(q){e.each(q.photos.data,function(){this.created_time=j._mysqlTimeStampToDate(this.created_time);if(this.comments){e.each(this.comments.data,function(){this.created_time=j._fbTimeAgo(this.created_time)})}});e.extend(p,q);e.extend(p,{facebookUser:j.app.fbUserInfo,templatePath:j.options.installDirectory});m=new EJS({url:j.options.installDirectory+"templates/photoGallery.ejs"}).render(p);l.find(".fbw-loading").remove();j._popLightBox(m,j)})}else{e.extend(p,{templatePath:j.options.installDirectory});m=new EJS({url:j.options.installDirectory+"templates/photoGallery.ejs"}).render(p);l.find(".fbw-loading").remove();j._popLightBox(m,j)}}else{if(l.hasClass("photo-cover-photo-wrapper")){l.append('<div class="fbw-loading positioned"></div>');var k=j.photosData;e.extend(k,{startingIndex:l.attr("data-index"),templatePath:j.options.installDirectory});m=new EJS({url:j.options.installDirectory+"templates/photoGallery.ejs"}).render(k);l.find(".fbw-loading").remove();j._popLightBox(m,j)}}});this.$element.on("click.jQueryFacebookWall",".user-interaction-like",function(l){$target=e(l.target);var k=$target.closest(".story").attr("data-id");j._userInteractionLike(k,$target)});this.$element.on("click.jQueryFacebookWall",".user-interaction-comment",function(k){$target=e(k.target);$target.closest(".story-content").find(".comment-write").focus()});this.$element.on("click.jQueryFacebookWall",".user-interaction-comment-like",function(l){$target=e(l.target);var k=e(l.target).closest(".comment-wrapper").attr("data-id");j._userInteractionLike(k,$target)});this.$element.on("keypress.jQueryFacebookWall",".comment-write",function(m){if(m.which==13){$target=e(m.target);var l=$target.val();var k=$target.closest(".story").attr("data-id");j._userInteractionComment(k,l,$target)}});this.$element.on("click.jQueryFacebookWall",".comments-view-more",function(k){j._showMoreComments(k,j)});this.$element.on("click.jQueryFacebookWall",".jfw-lightbox-close",this._closeLightBox);this.$element.on("click.jQueryFacebookWall",".photo-gallery-control-left",{increment:-1},function(k){j._photoGalleryPaginate(k,j)});this.$element.on("click.jQueryFacebookWall",".photo-gallery-control-right",{increment:1},function(k){j._photoGalleryPaginate(k,j)});this.$element.on("click.jQueryFacebookWall",".jfw-lightbox-overlay",{increment:1},this._closeLightBox);this.$element.on("mouseenter.jQueryFacebookWall mouseleave.jQueryFacebookWall",".facebook-wall.jfw-lightbox .left-col",function(l){var k=e(this).find(".photo-gallery-controls");if(l.type=="mouseenter"){k.fadeIn()}else{k.fadeOut()}});this.$element.on("keypress.jQueryFacebookWall",".facebook-wall.jfw-lightbox .comment-write",function(m){if(m.which==13){$target=e(m.target);var l=$target.val();var k=$target.closest(".photo-gallery-comments").find(".story-wrapper.show .story").attr("data-id");j._userInteractionComment(k,l,$target,"photoGallery")}});this.$element.on("click.jQueryFacebookWall",".photo-user-interaction-like",function(l){$target=e(l.target);var k=$target.closest(".story").attr("data-id");j._userInteractionLike(k,$target)});this.$element.on("click.jQueryFacebookWall",".photo-user-interaction-comment",function(k){$target=e(k.target);$target.closest(".photo-gallery-comments").find(".comment-write").focus()})},_addPhotosToWall:function(h){var o=this;if(this.options.debug){this._debug("_addPhotosToWall: adding photos",h)}if(this.options.display=="single-column"){var m=this.$element.find(".fbw-left-column")}else{var m=this.$element.find(".fbw-right-column")}e.extend(h,{numColumns:this.options.photos.numColumns,showAtStart:this.options.photos.showAtStart});var n=new EJS({url:this.options.installDirectory+"templates/photos.ejs"}).render(h);m.append(n);this._displayAnimation("photos");e.each(h.data,function(){this.created_time=o._mysqlTimeStampToDate(this.created_time);if(this.comments){e.each(this.comments.data,function(){this.created_time=o._fbTimeAgo(this.created_time)})}});photosArray=e(".photo-cover-photo-wrapper");for(var k=0,j=photosArray.length;k<j;k++){$image=e(photosArray[k]).find(".photo-cover-photo");$image.load(function(){o._resizeImage(e(this),e(this).parent().width(),e(this).parent().height())})}this.photosData={photos:h,facebookUser:this.app.fbUserInfo}},_addAlbumsToWall:function(n){var o=this;if(this.options.albums.filterAlbums){n.data=e.grep(n.data,function(i){if(o.options.albums.filterAlbums.indexOf(i.name)!=-1){return i}})}if(this.options.debug){this._debug("_addAlbumnsToWall: adding albums",n)}if(this.options.display=="single-column"){var m=this.$element.find(".fbw-left-column")}else{var m=this.$element.find(".fbw-right-column")}var j=new EJS({url:this.options.installDirectory+"templates/albums.ejs"}).render(n);m.append(j);this._displayAnimation("albums");albumsArray=e(".album-cover-photo-wrapper");for(var k=0,h=albumsArray.length;k<h;k++){e(albumsArray[k]).data("albumData",n.data[k]);$image=e(albumsArray[k]).find(".album-cover-photo");$image.load(function(){o._resizeImage(e(this),e(this).parent().width(),e(this).parent().height())})}},_resizeImage:function(j,h,i){if(j.height()<i){j.height(i);j.css("width","auto");$leftMargin=(j.width()-h)/2;j.css("margin-left",$leftMargin*-1)}},_addEventsToWall:function(j){var k=this;if(this.options.debug){this._debug("_eventsToWall: adding likes",j)}if(this.options.display=="single-column"){var i=this.$element.find(".fbw-left-column")}else{var i=this.$element.find(".fbw-right-column")}e.each(j.data,function(){this.start_time=k._mysqlTimeStampToDate(this.start_time)});j.facebookUser=this.options.facebookUser;e.extend(j,{showTicketLink:this.options.events.showTicketLink});var h=new EJS({url:this.options.installDirectory+"templates/events.ejs"}).render(j);i.append(h);this._displayAnimation("events")},_addLikesToWall:function(i){if(this.options.debug){this._debug("_addLikesToWall: adding likes",i)}e.extend(i,{useCoverPhotos:this.options.likes.useCoverPhotos});if(this.options.display=="single-column"){var j=this.$element.find(".fbw-left-column")}else{var j=this.$element.find(".fbw-right-column")}var h=new EJS({url:this.options.installDirectory+"templates/likes.ejs"}).render(i);j.append(h);this._displayAnimation("likes")},_buildFbWall:function(j){if(this.options.debug){this._debug("_buildFbWall: feed data",j)}var h=this.$element.find(".fbw-left-column");if(this.options.display=="single-column"){$rightColumn=this.$element.find(".fbw-left-column")}else{$rightColumn=this.$element.find(".fbw-right-column")}var o=this;var k=0;var l=0;var n=0;var m=0;$rightColumn.find(".story").each(function(){m+=e(this).height()});e.each(j.data,function(){if(o.options.debug){console.log("_buildwall: feed data - post:");console.log(o)}var r=this;var t=r.comments;r.created_time=o._fbTimeAgo(r.created_time);if(r.likes){r.likes.count=o._addCommas(r.likes.count)}if(r.message){r.message=o._makeLinks(r.message)}if(o.options.display==="timeline"){if(r.picture!==g){r.picture=r.picture.substring(0,r.picture.length-5)+"n.png"}}if(r.comments){r.comments.count=t.data.length}var p=new EJS({url:o.options.installDirectory+"templates/story.ejs"}).render(r);if(r.story&&!r.message){r.message=r.story}if(!r.likes){r.likes={summary:{total_count:0}}}if(r.message&&(o.options.likes.minLikes<=r.likes.summary.total_count)){var s="";if(o.options.display=="timeline"){if(n<m){h.append(p);s=h.find(".story").last();i(r);var q=h.find(".story").last().find(".story-picture").width();n+=h.find(".story").last().height()+q;if(o.options.displayAnimation){s.addClass("scale-left-nosize")}}else{$rightColumn.append(p);s=$rightColumn.find(".story").last();s.find(".timeline-pointer-left").removeClass("timeline-pointer-left").addClass("timeline-pointer-right");i(r);var q=$rightColumn.find(".story").last().find(".story-picture").width();m+=s.height()+q;if(o.options.displayAnimation){s.addClass("scale-right-nosize")}}}else{h.append(p);s=h.find(".story").last();i(r);s.addClass("scale-nosize")}}function i(w){if(w.comments){if(o.options.debug){o._debug("_buildFbWall: adding Comments",t)}e.each(t.data,function(){this.created_time=o._fbTimeAgo(this.created_time)});t.showAtStart=o.options.comments.showAtStart;var u=new EJS({url:o.options.installDirectory+"templates/comments.ejs"}).render(t);$commentStats=s.find(".comment-stats");$commentCountCurrent=$commentStats.find(".comment-count-current");if(w.comments.data.length<o.options.comments.showAtStart){$commentCountCurrent.text(t.data.length);$commentStats.find(".comments-view-more a").addClass("hide")}else{$commentCountCurrent.text(o.options.comments.showAtStart)}}var v=o.$element.find(".story[data-id="+w.id+"] .comments");v.append(u);if(w.comments&&t.paging.next){v.data("commentsNextPage",t.paging.next)}}})},_showWall:function(){var o=this;var p=this.$element.find(".fbw-left-column");if(this.options.display=="single-column"){$rightColumn=this.$element.find(".fbw-left-column")}else{$rightColumn=this.$element.find(".fbw-right-column")}p.css("visibility","visible");$rightColumn.css("visibility","visible");if(this.options.displayAnimation){var n=this.options.displayAnimationDelay;var h=this.$element.find(".fbw-left-column .story");var q=this.$element.find(".fbw-right-column .story");var s=h;var r=q;if(h.length<q.length){s=q;r=h}var k=e.map(s,function(l,t){if(r[t]){return[l,r[t]]}else{return[l]}});for(var m=0,j=k.length;m<j;m++){(function(t){var l=e(k[t]);setTimeout(function(){if(o.options.display==="timeline"){if(l.hasClass("scale-left-nosize")){l.addClass("scale-left-fullsize").removeClass("scale-left-nosize")}else{l.addClass("scale-right-fullsize").removeClass("scale-left-nosize")}}else{l.addClass("scale-fullsize").removeClass("scale-nosize")}},n*t)})(m)}}e(".fbw-wall-loading").fadeOut()},_displayAnimation:function(h){if(this.options.displayAnimation){var i=this.$element.find("."+h);if(this.options.display==="timeline"){i.addClass("scale-right-nosize")}else{if(this.options.display==="wall"||this.options.display==="single-column"){i.addClass("scale-nosize")}}}},_debug:function(i,j,h){if(h!=g){console.log("jQuery Facebook Wall ERROR-------")}else{console.log("DEBUG MESSAGE--------------------")}console.log(i);console.log(j);console.log("---------------------------------")},_getFbData:function(){var v=this;var s=[];var A=[null,null,null,null,null,null];var l=[];var i="https://graph.facebook.com/v2.1/"+this.options.facebookUser+"/?access_token="+this.app.appToken+"&callback=?";s[0]=e.getJSON(i);A[0]=u;l[0]="fbUserInfo";var t=1;if(this.options.likes.show){var z="https://graph.facebook.com/v2.1/"+this.options.facebookUser+"/likes/?access_token="+this.app.appToken+"&fields=picture, category,id,cover,name,website&limit="+this.options.likes.limit+"&callback=?";s.push(e.getJSON(z));if(A[this.options.likes.order]){t=0}A.splice(this.options.likes.order,t,o);l.push("likes")}if(this.options.photos.show){var q="https://graph.facebook.com/v2.1/"+this.options.facebookUser+"/photos/?access_token="+this.app.appToken+"&fields=name,comments,created_time,picture,source,album&limit="+this.options.photos.limit+"&type="+this.options.photos.type+"&callback=?";s.push(e.getJSON(q));if(A[this.options.photos.order]){t=0}A.splice(this.options.photos.order,t,y);l.push("photos")}if(this.options.albums.show){var n="https://graph.facebook.com/v2.1/"+this.options.facebookUser+"/albums/?access_token="+this.app.appToken+"&fields=id,name,count,cover_photo&limit="+this.options.albums.limit+"&callback=?";s.push(e.getJSON(n));if(A[this.options.albums.order]){t=0}A.splice(this.options.albums.order,t,p);l.push("albums")}if(this.options.events.show){var m="";var j=(this.options.events.showPastEvents!==false)?"&since="+this.options.events.showPastEvents:"";if(this.options.events.showTicketLink){m="ticket_uri,"}var w="https://graph.facebook.com/v2.1/"+this.options.facebookUser+"/events/?access_token="+this.app.appToken+"&fields="+m+"start_time,name,location,picture&limit="+this.options.events.limit+j+"&callback=?";s.push(e.getJSON(w));if(A[this.options.events.order]){t=0}A.splice(this.options.events.order,t,h);l.push("events")}if(this.options.posts.show){var r="https://graph.facebook.com/v2.1/"+this.options.facebookUser+"/"+this.options.posts.feedType+"/?access_token="+this.app.appToken+"&fields=id,comments.limit("+this.options.comments.limit+").fields(id,created_time,like_count,from,message),status_type,picture, full_picture, source, properties, name, caption, description, link, from,message,story,likes.summary(true),object_id,shares&limit="+this.options.posts.limit+"&callback=?";s.push(e.getJSON(r));if(A[this.options.posts.order]){t=0}A.splice(this.options.posts.order,t,k);l.push("feed")}A.push(function(){v._showWall()});e.when.apply(e,s).done(A).fail(function(B){if(this.options.debug){this._debug("_getFbData: failed to retrieve facebook data",B)}});function u(B){v.app.fbUserInfo=arguments[0][0]}function k(C){var B=e.inArray("feed",l);v._validateRetrievedData("feed",arguments[B][0],v._buildFbWall)}function o(C){var B=e.inArray("likes",l);if(C[0].error){alert("Looks like something is wrong with your Access Token: "+C[0].error.message)}else{v._validateRetrievedData("likes",arguments[B][0],v._addLikesToWall)}}function p(C){var B=e.inArray("albums",l);v._validateRetrievedData("albums",arguments[B][0],v._addAlbumsToWall)}function y(B){var C=e.inArray("photos",l);v._validateRetrievedData("photos",arguments[C][0],v._addPhotosToWall)}function h(C){var B=e.inArray("events",l);v._validateRetrievedData("events",arguments[B][0],v._addEventsToWall)}},_validateRetrievedData:function(h,j,i){if(j.data){i.call(this,j)}else{if(j.error){if(this.options.debug){console.log("_getFbData: "+h+" data retrieval error ->"+j.error.message);alert(h+" data retrieval error, here is what facebook has to say about your request: ->"+j.error.message);if(h==="albums"){alert("There was problem retrieving data from facebook, this may be because you facebook account is not a page. Albums can only be retrieved for facebook Pages.")}}}else{if(this.options.debug){console.log("_getFbData: "+h+" data retrieval unknow error")}}}},_makeLinks:function(h){var i=/(\b(http?|https):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/i;return h.replace(i,"<a href='$1'>$1</a>")},_photoGalleryPaginate:function(p,q){var k=p.data.increment;var j=e(p.currentTarget);var h=j.parent().prev().find(".photo-gallery-photo");var n=j.closest(".photo-gallery").find(".story-wrapper");for(var o=0,m=h.length;o<m;o++){if(e(h[o]).hasClass("show")){e(h[o]).removeClass("show").addClass("hide");e(n[o]).removeClass("show").addClass("hide");if(h[o+k]){e(h[o+k]).removeClass("hide").addClass("show");e(n[o+k]).removeClass("hide").addClass("show");q._updateImageDimension(e(h[o+k]),j.parent().prev());return}else{if(k==1){e(h[0]).removeClass("hide").addClass("show");e(n[0]).removeClass("hide").addClass("show");q._updateImageDimension(e(h[0]),j.parent().prev())}else{e(h[h.length-1]).removeClass("hide").addClass("show");e(n[h.length-1]).removeClass("hide").addClass("show");q._updateImageDimension(e(h[h.length-1]),j.parent().prev())}}}}},_updateImageDimension:function(j,k){var m=j.height();var p=k.parent().height();var o=j.width();var l=k.parent().width();if(o>l){j.width(l)}else{if(m>p){j.height(p)}}n="";var n=j.closest(".photo-gallery").attr("data-album-name");if(!n){var h=j.attr("data-id");if(this.photosData.photos.data[h].album){n=this.photosData.photos.data[h].album.name}}var i=j.closest(".left-col").find(".photo-gallery-album");if(i.text()!=n){i.text(n)}},_popLightBox:function(j,l){var l=this;var k=new EJS({url:this.options.installDirectory+"templates/lightbox.ejs"}).render({content:j});var i=e(k);i.find(".jfw-lightbox-content").append(j);var h=e("<div class='facebook-wall jfw-lightbox-overlay'></div>");h.height(e(a).height());this.$element.append(h).append(k);i.find(".jfw-lightbox-content").append(j);h.next().fadeIn(function(){i=e(".facebook-wall .jfw-lightbox");i.css("height",i.height());l._updateImageDimension(i.find(".jfw-lightbox-content .photo-gallery-photo.show"),i.find(".jfw-lightbox-content .photo-gallery-photos"))})},_closeLightBox:function(){$lightbox=e(".jfw-lightbox");$lightbox.fadeOut(function(){$lightbox.remove();e(".jfw-lightbox-overlay").remove()})},_showMoreComments:function(l,o){var h=e(l.target);var m=h.closest(".comment-wrapper").prev();var k=h.closest(".comment-wrapper").find(".comment-count-current");var n=parseInt(o.options.comments.showMoreNum);var i=m.find(".comment-wrapper.hide:lt("+n+")");i.removeClass("hide");var j=k.text()*1;k.text(j+=n);if(i.length<n){h.closest(".comment-wrapper").addClass("hide")}},_userInteractionLike:function(l,k){var p=this;var j=this._fbAuthenticate();if(j){if(this.options.debug){console.log("_userInteractionLike: posting a like")}var o=k.hasClass("liked");var h="post";var n=jQFWlanguage.localize("Unlike");var m=1;if(o){h="delete";n="Like";m=-1}FB.api("/"+l+"/likes",h,function(q){if(!q||q.error){if(p.options.debug){console.log("_userInteractionLike: ERROR posting like, response error:");console.log(q.error)}}else{if(p.options.debug){console.log("_userInteractionLike: like posted, response:");console.log(q)}if(!o){k.addClass("liked")}if(k.hasClass("user-interaction-comment-like")){k.text(n);var i=k.parent().find(".comment-like-count");i.text(_addCommas((i.text().replace(",","")*1)+m))}else{k.text(n);$storyContent=k.closest(".story-content");var i=$storyContent.find(".story-comment-count");i.text(p._addCommas((i.text().replace(",","")*1)+m));if(!o){if(i.text()==1){$storyContent.find(".story-stats .you-like").text("You ")}$storyContent.find(".story-stats").removeClass("hide");i.prev().show()}else{i.prev().hide()}}}})}},_userInteractionComment:function(j,k,i,l){var m=this;var h=this._fbAuthenticate();if(h){if(m.options.debug){console.log("_userInteractionCommnet: posting a comment")}i.fadeOut();i.parent().append('<div class="fbw-loading" />');FB.api("/"+j+"/comments","post",{message:k},function(o){if(!o||o.error){if(m.options.debug){console.log("_userInteractionCommnet: ERROR posting comment, response error:");console.log(o.error)}}else{if(m.options.debug){console.log("_userInteractionCommnet: comment posted, response:");console.log(o)}comment={showAtStart:"All",data:[{from:{id:m.currentUser.id,name:m.currentUser.name},message:k,id:o.id}]};var p=new EJS({url:m.options.installDirectory+"templates/comments.ejs"}).render(comment);i.closest(".story-content").find(".story-stats").removeClass("hide");if(l=="photoGallery"){i.closest(".photo-gallery-comments").find(".story-wrapper.show .photo-info").after(p)}else{i.closest(".story-comments").find(".comments").prepend(p);var n=i.closest(".story-comments").find(".comment-count-current").next();n.text((n.text()*1)+1)}i.val("")}i.parent().find(".fbw-loading").remove();i.fadeIn()})}},_fbAuthenticate:function(){var i=this;var h=false;FB.getLoginStatus(function(j){if(j.status==="connected"){if(i.options.debug){console.log("_fbAuthenticate: user authenticated:");console.log(j)}h=true;i._fbGetUserData()}else{if(j.status==="not_authorized"){i._fbLogin()}else{i._fbLogin()}}});return h},_fbInitSDK:function(){var h={appId:this.options.appId*1,channelUrl:"//"+this.options.domain,status:true,cookie:true,xfbml:true,version:"v2.1"};if(typeof FB!=="undefined"){FB._initialized=false;FB.init(h);return}c.fbAsyncInit=function(){FB.init(h)};(function(k){var j,l="facebook-jssdk",i=k.getElementsByTagName("script")[0];if(k.getElementById(l)){return}j=k.createElement("script");j.id=l;j.async=true;j.src="//connect.facebook.net/en_US/sdk.js";i.parentNode.insertBefore(j,i)}(a))},_fbLogin:function(){var h=this;FB.login(function(i){if(i.authResponse){if(h.options.debug){console.log("_fbLogin: user authenticated:");console.log(i)}}else{}},{scope:"publish_actions, publish_stream, user_likes"})},_fbGetUserData:function(){var h=this;FB.api("/me",function(i){if(h.options.debug){console.log("_fbGetUserData: retrieved user data:");console.log(i)}h.currentUser.id=i.id;h.currentUser.name=i.name})},_fbTimeAgo:function(k){if(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1){k=k.replace("+0000","Z")}var i=new Date(k),j=(((new Date()).getTime()-i.getTime())/1000),h=Math.floor(j/86400);if(isNaN(h)||h<0||h>=31){return}return h==0&&(j<60&&jQFWlanguage.localize("just now")||j<120&&jQFWlanguage.localize("1 minute ago")||j<3600&&Math.floor(j/60)+jQFWlanguage.localize(" minutes ago")||j<7200&&jQFWlanguage.localize("1 hour ago")||j<86400&&Math.floor(j/3600)+jQFWlanguage.localize(" hours ago"))||h==1&&jQFWlanguage.localize("Yesterday")||h<7&&h+jQFWlanguage.localize(" days ago")||h<31&&Math.ceil(h/7)+jQFWlanguage.localize(" weeks ago")},_addCommas:function(i){i+="";x=i.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var h=/(\d+)(\d{3})/;while(h.test(x1)){x1=x1.replace(h,"$1,$2")}return x1+x2},_mysqlTimeStampToDate:function(j){var i=new Date(j);if(!i.getMonth()){j=j.split(/[-T.]/);var i=new Date(j[0]+"/"+j[1]+"/"+j[2]+" "+j[3])}var m=new Array(7);m[0]=jQFWlanguage.localize("Sunday");m[1]=jQFWlanguage.localize("Monday");m[2]=jQFWlanguage.localize("Tuesday");m[3]=jQFWlanguage.localize("Wednesday");m[4]=jQFWlanguage.localize("Thursday");m[5]=jQFWlanguage.localize("Friday");m[6]=jQFWlanguage.localize("Saturday");var l=m[i.getDay()];var n=new Array();n[0]=jQFWlanguage.localize("January");n[1]=jQFWlanguage.localize("February");n[2]=jQFWlanguage.localize("March");n[3]=jQFWlanguage.localize("April");n[4]=jQFWlanguage.localize("May");n[5]=jQFWlanguage.localize("June");n[6]=jQFWlanguage.localize("July");n[7]=jQFWlanguage.localize("August");n[8]=jQFWlanguage.localize("September");n[9]=jQFWlanguage.localize("October");n[10]=jQFWlanguage.localize("November");n[11]=jQFWlanguage.localize("December");var o=n[i.getMonth()];var h=i.getDate();var n=i.getMonth();var k=i.getFullYear();return l+" "+o+" "+h+" "+k},loadFbData:function(){if(!this.app.appToken){e.getJSON(this.options.installDirectory+"fb_app_token.html",e.proxy(function(h){this.app.appToken=h.appToken;this._getFbData()},this))}else{this._getFbData()}},destroy:function(){var h=this.$element.data("plugin_jQueryFacebookWall");this.$element.unbind();this.$element.removeData("plugin_jQueryFacebookWall");this.$element.children().remove();this.$element.removeClass("facebook-wall-clearfix timeline")},yourOtherFunction:function(i,h){}};e.fn[d]=function(h){return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new b(this,h))}})}})(jQuery,window,document);var jQFWlanguage={language:"english",localize:function(b){if(this.language==="english"){return b}else{var a=this.viewText[this.language][b];if(a){return a}else{return b}}},viewText:{dansk:{Events:"Begivenheder","Event Tickets":"Eventbilletter",Photos:"Billeder","photos in":"fotos i",Albums:"Albummer",Likes:"Synes godt om",Like:"Synes godt om",Unlike:"Synes ikke godt om længere","like this":"synes godt om dette","You and":"Du og",Comment:"Tilføj kommentar","View more comments":"Vis flere kommentarer","Write a comment":"Skriv en kommentar",of:"af","just now":"lige nu","1 minute ago":"1 minut siden"," minutes ago":" minutter siden","1 hour ago":"1 time siden"," hours ago":" timer siden",Yesterday:"I går"," days ago":" dage siden"," weeks ago":" uger siden",Sunday:"Søndag",Monday:"Mandag",Tuesday:"Tirsdag",Wednesday:"Onsdag",Thursday:"Torsdag",Friday:"Fredag",Saturday:"Lørdag",January:"Januar",February:"Februar",March:"Marts",April:"April",May:"Maj",June:"Juni",July:"Juli",August:"August",September:"September",October:"Oktober",November:"November",December:"December"},deutsch:{Events:"Veranstaltungen","Event Tickets":"Veranstaltungs Tickets",Photos:"Fotos","photos in":"fotos im",Albums:"Alben",Likes:"Gefällt mir",Like:"Gefällt mir",Unlike:"Gefällt mir nicht mehr","like this":"gefällt das","You and":"Dir und",Comment:"Kommentar","View more comments":"Alle Kommentare anzeigen","Write a comment":"Kommentar schreiben",of:"von","just now":"gerade eben","1 minute ago":"vor 1 Minute"," minutes ago":" Minuten","1 hour ago":"vor 1 Stunde"," hours ago":" Stunden",Yesterday:"Gestern"," days ago":" Tagen"," weeks ago":" Wochen",Sunday:"Sonntag",Monday:"Montag",Tuesday:"Dienstag",Wednesday:"Mittwoch",Thursday:"Donnerstag",Friday:"Freitag",Saturday:"Samstag",January:"Januar",February:"Februar",March:"März",April:"April",May:"Mai",June:"Juni",July:"Juli",August:"August",September:"September",October:"Oktober",November:"November",December:"Dezember"},dutch:{Events:"Evenementen","Event Tickets":"Evenement tickets",Photos:"Foto's","photos in":"foto's in",Albums:"Albums",Likes:"Likes",Like:"Vind ik leuk",Unlike:"Vind ik niet meer leuk","like this":"vinden dit leuk","You and":"Jij en",Comment:"Commentaar","View more comments":"Toon meer commentaren","Write a comment":"Schrijf een commentaar",of:"van","just now":"nu net","1 minute ago":"1 minuut geleden"," minutes ago":" minuten geleden","1 hour ago":"1 uur geleden"," hours ago":" uur geleden",Yesterday:"Gisteren"," days ago":" dagen geleden"," weeks ago":" weken geleden",Sunday:"Zondag",Monday:"Maandag",Tuesday:"Dinsdag",Wednesday:"Woensdag",Thursday:"Donderdag",Friday:"Vrijdag",Saturday:"Zaterdag",January:"Januari",February:"Februari",March:"Maart",April:"April",May:"Mei",June:"Juni",July:"Juli",August:"Augustus",September:"September",October:"Oktober",November:"November",December:"December"},espanol:{Events:"Eventos","Event Tickets":"Las entradas de eventos",Photos:"Fotos","photos in":"fotos en",Albums:"Álbumes",Likes:"Me gusta",Like:"Me gusta",Unlike:"A diferencia de","like this":"así","You and":"Usted y",Comment:"Comentario","View more comments":"Ver más comentarios","Write a comment":"Escribir un comentario",of:"de","just now":"ahora","1 minute ago":"hace 1 minuto"," minutes ago":"hace minutos","1 hour ago":"hace 1 hora"," hours ago":" hace horas",Yesterday:"Ayer"," days ago":" hace días"," weeks ago":" hace semanas",Sunday:"Domengo",Monday:"Lunes",Tuesday:"Martes",Wednesday:"Miércoles",Thursday:"Jueves",Friday:"Viernes",Saturday:"Sábado",January:"Enero",February:"Febrero",March:"Marzo",April:"Abril",May:"Mayo",June:"Junio",July:"Julio",August:"Agosto",September:"Septiembre",October:"Octubre",November:"Noviembre",December:"Diciembre"},francais:{Events:"Evénements","Event Tickets":"Billets d'événements",Photos:"Photos","photos in":"photos de",Albums:"Albums",Likes:"Appréciations",Like:"Appréciation",Unlike:"Contrairement à","like this":"comme ceci","You and":"Vous et",Comment:"Commentaire","View more comments":"Voir plus de commentaires","Write a comment":"Écrire un commentaire",of:"du","just now":"tout à l'heure","1 minute ago":"il ya 1 minute"," minutes ago":" il ya minutes","1 hour ago":"il ya 1 heure"," hours ago":" il ya des heures",Yesterday:"hier"," days ago":" il ya jours"," weeks ago":" il ya quelques semaines",Sunday:"Dimanche",Monday:"Lundi",Tuesday:"Mardi",Wednesday:"Mercredi",Thursday:"Jeudi",Friday:"Vendredi",Saturday:"Samedi",January:"Janvier",February:"Février",March:"Mars",April:"Avril",May:"Mai",June:"Juin",July:"Juillet",August:"Août",September:"Septembre",October:"Octobre",November:"Novembre",December:"Décembre"},italiano:{Events:"Eventi","Event Tickets":"Biglietti per gli spettacoli",Photos:"Foto","photos in":"foto in",Albums:"Album",Likes:"Mi piace",Like:"Mi piace",Unlike:"Mi non piace","like this":"piace questo","You and":"Tu e",Comment:"Commento","View more comments":"Visualizza più commenti","Write a comment":"Scrivi un commento",of:"su","just now":"proprio ora","1 minute ago":"1 minuto fa"," minutes ago":" minuti fa","1 hour ago":"1 ore ha"," hours ago":" ore fa",Yesterday:"ieri"," days ago":" giorni fa"," weeks ago":"settimane fa",Sunday:"Domenica",Monday:"Lunedi",Tuesday:"Martedi",Wednesday:"Mercoledi",Thursday:"Giovedi",Friday:"Venerdi",Saturday:"Sabato",January:"Gennaio",February:"Febbraio",March:"Marzo",April:"Aprile",May:"Maggio",June:"Giugno",July:"Luglio",August:"Agosto",September:"Settembre",October:"Otobre",November:"Novembre",December:"Decembre"},polski:{Events:"Wydarzenia","Event Tickets":"",Photos:"Zdjęcia","photos in":"zdjęć w",Albums:"Albumy",Likes:"Upodobania",Like:"Lubię to!",Unlike:"Nie lubię","like this":"lubi to","You and":"Ty i",Comment:"Dodaj komentarz","View more comments":"Zobacz więcej komentarzy","Write a comment":"Napisz komentarz...",of:"z","just now":"przed chwilą","1 minute ago":"minutę temu"," minutes ago":" minut temu","1 hour ago":" około godziny temu"," hours ago":" godz. temu",Yesterday:"Wczoraj"," days ago":" dni temu"," weeks ago":" tygodni temu",Sunday:"Niedziela",Monday:"Poniedziałek",Tuesday:"Wtorek",Wednesday:"Środa",Thursday:"Czwartek",Friday:"Piątek",Saturday:"Sobota",January:"Stycznia",February:"Lutego",March:"Marca",April:"Kwietnia",May:"Maja",June:"Czerwca",July:"Lipca",August:"Sierpnia",September:"Września",October:"Października",November:"Listopada",December:"Grudnia"},ptbr:{Events:"Eventos","Event Tickets":"Obter Ingressos",Photos:"Fotos","photos in":"fotos em",Albums:"Álbuns",Likes:"Curtidas",Like:"Curtir",Unlike:"Curtir (desfazer)","like this":"curtiram","You and":"Você e",Comment:"Comentar","View more comments":"Ver mais comentários","Write a comment":"Escrever um comentário",of:"de","just now":"agora mesmo","1 minute ago":"1 minuto atrás"," minutes ago":" minutos atrás","1 hour ago":"1 hora atrás"," hours ago":" horas atrás",Yesterday:"Ontem"," days ago":" dias atrás"," weeks ago":" semanas atrás",Sunday:"Domingo",Monday:"Segunda-feira",Tuesday:"Terça-feira",Wednesday:"Quarta-feira",Thursday:"Quinta-feira",Friday:"Sexta-feira",Saturday:"Sabádo",January:"Janeiro",February:"Fevereiro",March:"Março",April:"Abril",May:"Maio",June:"Junho",July:"Julho",August:"Agosto",September:"Setembro",October:"Outubro",November:"Novembro",December:"Dezembro"},svenska:{Events:"Händelser","Event Tickets":"Evenemangsbiljetter",Photos:"Bilder","photos in":"foton i",Albums:"Album",Likes:"Gillar",Like:"Gilla",Unlike:"Till skillnad från","like this":"så här","You and":"Du och",Comment:"Kommentar","View more comments":"Visa fler kommentarer","Write a comment":"Skriv en kommentar",of:"av","just now":"just nu","1 minute ago":"1 minut sedan"," minutes ago":" minuter sedan","1 hour ago":"1 timme sedan"," hours ago":" timmar sedan",Yesterday:"Igår"," days ago":" dagar sedan"," weeks ago":" veckor sedan",Sunday:"Sunday",Monday:"Måndag",Tuesday:"Tisdag",Wednesday:"Onsdag",Thursday:"Torsdag",Friday:"Fredag",Saturday:"Lördag",January:"Januari",February:"Februari",March:"Marschera",April:"April",May:"Maj",June:"Juni",July:"Juli",August:"August",September:"September",October:"Oktober",November:"November",December:"December"},turk:{Events:"Etkinlikler","Event Tickets":"Etkinlik Davetleri",Photos:"Fotoğraflar",Albums:"Albümler","photos in":"Fotoğraflar iç taraf",Likes:"Beğeniler",Like:"Beğen",Unlike:"Beğenme","like this":"bunu beğen","You and":"Sen ve",Comment:"Yorum","View more comments":"Daha fazla yorum","Write a comment":"Yorum yaz",of:"","just now":"şimdi","1 minute ago":"1 dakika önce"," minutes ago":" dakika önce","1 hour ago":"1 saat önce"," hours ago":" saat önce",Yesterday:"Dün"," days ago":" gün önce"," weeks ago":" hafta önce",Sunday:"Pazar",Monday:"Pazartesi",Tuesday:"Salı",Wednesday:"Çarşamba",Thursday:"Perşembe",Friday:"Cuma",Saturday:"Cumartesi",January:"Ocak",February:"Şubat",March:"Mart",April:"Nisan",May:"Mayıs",June:"Haziran",July:"Temmuz",August:"Ağustos",September:"Eylül",October:"Ekim",November:"Kasım",December:"Aralık"},}};EJS.Helpers.prototype.date_tag=function(c,q,a){if(!(q instanceof Date)){q=new Date()}var b=["January","February","March","April","May","June","July","August","September","October","November","December"];var h=[],e=[],r=[];var k=q.getFullYear();var i=q.getMonth();var p=q.getDate();for(var o=k-15;o<k+15;o++){h.push({value:o,text:o})}for(var f=0;f<12;f++){e.push({value:(f),text:b[f]})}for(var j=0;j<31;j++){r.push({value:(j+1),text:(j+1)})}var n=this.select_tag(c+"[year]",k,h,{id:c+"[year]"});var g=this.select_tag(c+"[month]",i,e,{id:c+"[month]"});var l=this.select_tag(c+"[day]",p,r,{id:c+"[day]"});return n+g+l};EJS.Helpers.prototype.form_tag=function(b,a){a=a||{};a.action=b;if(a.multipart==true){a.method="post";a.enctype="multipart/form-data"}return this.start_tag_for("form",a)};EJS.Helpers.prototype.form_tag_end=function(){return this.tag_end("form")};EJS.Helpers.prototype.hidden_field_tag=function(a,c,b){return this.input_field_tag(a,c,"hidden",b)};EJS.Helpers.prototype.input_field_tag=function(a,d,c,b){b=b||{};b.id=b.id||a;b.value=d||"";b.type=c||"text";b.name=a;return this.single_tag_for("input",b)};EJS.Helpers.prototype.is_current_page=function(a){return(window.location.href==a||window.location.pathname==a?true:false)};EJS.Helpers.prototype.link_to=function(b,a,c){if(!b){var b="null"}if(!c){var c={}}if(c.confirm){c.onclick=' var ret_confirm = confirm("'+c.confirm+'"); if(!ret_confirm){ return false;} ';c.confirm=null}c.href=a;return this.start_tag_for("a",c)+b+this.tag_end("a")};EJS.Helpers.prototype.submit_link_to=function(b,a,c){if(!b){var b="null"}if(!c){var c={}}c.onclick=c.onclick||"";if(c.confirm){c.onclick=' var ret_confirm = confirm("'+c.confirm+'"); if(!ret_confirm){ return false;} ';c.confirm=null}c.value=b;c.type="submit";c.onclick=c.onclick+(a?this.url_for(a):"")+"return false;";return this.start_tag_for("input",c)};EJS.Helpers.prototype.link_to_if=function(f,b,a,d,c,e){return this.link_to_unless((f==false),b,a,d,c,e)};EJS.Helpers.prototype.link_to_unless=function(e,b,a,c,d){c=c||{};if(e){if(d&&typeof d=="function"){return d(b,a,c,d)}else{return b}}else{return this.link_to(b,a,c)}};EJS.Helpers.prototype.link_to_unless_current=function(b,a,c,d){c=c||{};return this.link_to_unless(this.is_current_page(a),b,a,c,d)};EJS.Helpers.prototype.password_field_tag=function(a,c,b){return this.input_field_tag(a,c,"password",b)};EJS.Helpers.prototype.select_tag=function(d,g,h,f){f=f||{};f.id=f.id||d;f.value=g;f.name=d;var b="";b+=this.start_tag_for("select",f);for(var e=0;e<h.length;e++){var c=h[e];var a={value:c.value};if(c.value==g){a.selected="selected"}b+=this.start_tag_for("option",a)+c.text+this.tag_end("option")}b+=this.tag_end("select");return b};EJS.Helpers.prototype.single_tag_for=function(a,b){return this.tag(a,b,"/>")};EJS.Helpers.prototype.start_tag_for=function(a,b){return this.tag(a,b)};EJS.Helpers.prototype.submit_tag=function(a,b){b=b||{};b.type=b.type||"submit";b.value=a||"Submit";return this.single_tag_for("input",b)};EJS.Helpers.prototype.tag=function(c,e,d){if(!d){var d=">"}var b=" ";for(var a in e){if(e[a]!=null){var f=e[a].toString()}else{var f=""}if(a=="Class"){a="class"}if(f.indexOf("'")!=-1){b+=a+'="'+f+'" '}else{b+=a+"='"+f+"' "}}return"<"+c+b+d};EJS.Helpers.prototype.tag_end=function(a){return"</"+a+">"};EJS.Helpers.prototype.text_area_tag=function(a,c,b){b=b||{};b.id=b.id||a;b.name=b.name||a;c=c||"";if(b.size){b.cols=b.size.split("x")[0];b.rows=b.size.split("x")[1];delete b.size}b.cols=b.cols||50;b.rows=b.rows||4;return this.start_tag_for("textarea",b)+c+this.tag_end("textarea")};EJS.Helpers.prototype.text_tag=EJS.Helpers.prototype.text_area_tag;EJS.Helpers.prototype.text_field_tag=function(a,c,b){return this.input_field_tag(a,c,"text",b)};EJS.Helpers.prototype.url_for=function(a){return'window.location="'+a+'";'};EJS.Helpers.prototype.img_tag=function(b,c,a){a=a||{};a.src=b;a.alt=c;return this.single_tag_for("img",a)};