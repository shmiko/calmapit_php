var gmap="//maps.google.com/maps?f=q&source=s_q&hl=en&geocode=&ie=UTF8&iwloc=A&output=embed&";function getParameterByName(a){return(a=RegExp("[?&]"+a+"=([^&]*)").exec(window.location.search))&&decodeURIComponent(a[1].replace(/\+/g," "))}angular.module("freegeoip",[]).directive("btnSubmit",function(){return function(a,c,d){a.$watch(function(){return a.$eval(d.btnSubmit)},function(a){a?$(c).button("loading"):$(c).button("reset")})}});freegeoip.$inject=["$scope","$http"];
function freegeoip(a,c){a.geoip={};a.search=function(d,f){a.error=null;a.map=f;a.searching=!0;c.get("json/"+(d||"")).success(function(b){a.q=d||b.ip;b.metro_code||(b.metro_code="-");b.area_code||(b.area_code="-");a.geoip=angular.copy(b);var e="",c=2;b.country_name&&"RD"!=b.country_code?b.region_name?b.city?(c=6,e=b.city+","+b.region_name+","+b.country_name):(c=4,e=b.region_name+","+b.country_name):e=b.country_name:e="Africa";$("#map").attr("src",gmap+"z="+c+"&q="+e);a.searching=!1}).error(function(b,
c){a.errorq=d;a.error=c;a.searching=!1;$("#map").attr("src",gmap+"zoom=2&q=africa")})};a.search(getParameterByName("q"),getParameterByName("map"))}$(document).ready(function(){$("#map").height($("#map").width()/2);$("#cb").tooltip();$("#cb").click(function(a){a.preventDefault()})});
