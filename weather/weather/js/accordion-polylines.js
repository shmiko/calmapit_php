$(document).ready(function(){var infowindow;var map;var bounds=new google.maps.LatLngBounds();var geocoder=new google.maps.Geocoder();var port='';var flightPath='';var m='';var myLatlng=new google.maps.LatLng(0.0,0.0);var myOptions={zoom:13,center:myLatlng,mapTypeId:thisMapType}
map=new google.maps.Map(document.getElementById("map"),myOptions);var waypts=[];var temp=[];var tabs=[];var tooltips=[];var markerUrl=[];var markerShadowUrl=[];var markerWidth=[];var markerHeight=[];var markerShadowWidth=[];var markerShadowHeight=[];downloadUrl(siteUrl+mapsFolder+xmlFile,function(data){var markers=data.documentElement.getElementsByTagName("marker");for(var i=0;i<markers.length;i++){var _0x51c3=["\x6E\x61\x6D\x65","\x67\x65\x74\x41\x74\x74\x72\x69\x62\x75\x74\x65","\x64\x65\x73\x63","\x74\x6F\x6F\x6C\x74\x69\x70","\x63\x61\x74\x65\x67\x6F\x72\x79","\x6D\x61\x72\x6B\x65\x72\x69\x63\x6F\x6E","\x6D\x61\x72\x6B\x65\x72\x73\x68\x61\x64\x6F\x77","\x6D\x61\x72\x6B\x65\x72\x77\x69\x64\x74\x68","\x6D\x61\x72\x6B\x65\x72\x68\x65\x69\x67\x68\x74","\x6D\x61\x72\x6B\x65\x72\x73\x68\x61\x64\x6F\x77\x77\x69\x64\x74\x68","\x6D\x61\x72\x6B\x65\x72\x73\x68\x61\x64\x6F\x77\x68\x65\x69\x67\x68\x74","\x3C\x64\x69\x76\x20\x63\x6C\x61\x73\x73\x3D\x22\x61\x63\x63\x6F\x72\x64\x69\x6F\x6E\x22\x20\x69\x64\x3D\x22\x61\x63\x63\x6F\x72\x64\x69\x6F\x6E\x5F","\x22\x3E\x3C\x68\x34\x3E","\x3C\x2F\x68\x34\x3E\x3C\x64\x69\x76\x20\x63\x6C\x61\x73\x73\x3D\x22\x64\x65\x73\x63\x44\x69\x76\x22\x20\x69\x64\x3D\x22\x64\x69\x76\x5F","\x22\x3E\x3C\x70\x3E","\x3C\x2F\x70\x3E\x3C\x2F\x64\x69\x76\x3E\x3C\x2F\x64\x69\x76\x3E","\x70\x75\x73\x68"];var start=markers[0][_0x51c3[1]](_0x51c3[0]);var name=markers[i][_0x51c3[1]](_0x51c3[0]);var description=markers[i][_0x51c3[1]](_0x51c3[2]);var tooltipText=markers[i][_0x51c3[1]](_0x51c3[3]);var locationCategory=markers[i][_0x51c3[1]](_0x51c3[4]);var markerIconUrl=markers[i][_0x51c3[1]](_0x51c3[5]);var markerShadowIconUrl=markers[i][_0x51c3[1]](_0x51c3[6]);var markerIconWidth=markers[i][_0x51c3[1]](_0x51c3[7]);var markerIconHeight=markers[i][_0x51c3[1]](_0x51c3[8]);var markerShadowIconWidth=markers[i][_0x51c3[1]](_0x51c3[9]);var markerShadowIconHeight=markers[i][_0x51c3[1]](_0x51c3[10]);var sm=i+1;var tab=_0x51c3[11]+sm+_0x51c3[12]+name+_0x51c3[13]+sm+_0x51c3[14]+description+_0x51c3[15];tabs[_0x51c3[16]](tab);tooltips[_0x51c3[16]](tooltipText);markerUrl[_0x51c3[16]](markerIconUrl);markerShadowUrl[_0x51c3[16]](markerShadowIconUrl);markerWidth[_0x51c3[16]](markerIconWidth);markerHeight[_0x51c3[16]](markerIconHeight);markerShadowWidth[_0x51c3[16]](markerShadowIconWidth);markerShadowHeight[_0x51c3[16]](markerShadowIconHeight);temp[_0x51c3[16]](name);waypts[_0x51c3[16]]({location:name,stopover:true});(function(address){geocoder.geocode({'address':address},function(results){port=results[0].geometry.location;var gmap=new Array();gmap[i]=results[0].geometry.location;bounds.extend(gmap[i]);flightPlanCoordinates.push(port);m=flightPlanCoordinates.length;var curmarkerIcon=markerUrl[m-1];var curmarkerShadow=markerShadowUrl[m-1];var curmarkerWidth=parseInt(markerWidth[m-1]);var curmarkerWidthHalf=parseInt(curmarkerWidth/2);var curmarkerHeight=parseInt(markerHeight[m-1]);var curshadowWidth=parseInt(markerShadowWidth[m-1]);var curshadowHeight=parseInt(markerShadowHeight[m-1]);var markerIcon=new google.maps.MarkerImage(curmarkerIcon,new google.maps.Size(curmarkerWidth,curmarkerHeight),new google.maps.Point(0,0),new google.maps.Point(curmarkerWidthHalf,curmarkerHeight));var markerShadow=new google.maps.MarkerImage(curmarkerShadow,new google.maps.Size(curshadowWidth,curshadowHeight),new google.maps.Point(0,0),new google.maps.Point(curmarkerWidthHalf,curshadowHeight));var marker=new google.maps.Marker({map:map,icon:markerIcon,shadow:markerShadow,position:port,zIndex:flightPlanCoordinates.length});if(flightPlanCoordinates.length==temp.length){var flightPath=new google.maps.Polyline(pOptions);flightPath.setMap(map);}
var tooltipOptions={marker:marker,content:tooltips[m-1],cssClass:'tooltipMap'};var tooltip=new Tooltip(tooltipOptions);google.maps.event.addListener(marker,'click',(function(marker,m){return function(){$(".accordion").removeClass('currentAccordion');$(".descDiv").hide();$("#div_"+m).show();$("#accordion_"+m).addClass('currentAccordion');$(".descDiv").jScrollPane({showArrows:true,horizontalGutter:10});var pane3top=parseInt($("#accordion_"+m).offset().top)-190;var api=$('.accordionMap').data('jsp');api.scrollTo(0,pane3top);$("#div_"+m).hide().slideDown(500);}})(marker,m));map.fitBounds(bounds);});})(temp[i]);}
$(".accordionMap").html(tabs);$(".descDiv").hide();$("#accordion_1 .descDiv").show();$("#accordion_1").addClass('currentAccordion');$(".accordion").click(function(e){e.preventDefault();var tabid=$(this).attr('id');var sid=tabid.split('_');sid=sid[1];$(".accordion").removeClass('currentAccordion');$(".descDiv").hide();$("#div_"+sid).show();$("#div_"+sid).jScrollPane({showArrows:true,horizontalGutter:10});$("#accordion_"+sid).addClass('currentAccordion');$("#div_"+sid).hide().slideDown(500);var pane3top=parseInt($(this).offset().top)-200;var api=$('.accordionMap').data('jsp');api.scrollTo(0,pane3top);});$('.descDiv, .accordionMap').jScrollPane({showArrows:true,horizontalGutter:10,animateScroll:true});$(".descDiv").click(function(){return false;});});});